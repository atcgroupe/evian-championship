{# Title #}
<div class="flex justify-between items-center mt-12 p-3 border-l-8 border-prunoise bg-gray-100">
    <h2 class="text-2xl text-prunoise font-light">
        Informations sur le job
    </h2>

    {# Option button #}
    {% if is_granted('EDIT', job) %}
    <div>
        {{ include('component/button/button.html.twig', {
            href: path('job_update', { id: job.id }),
            label: 'Modifier',
            size: 'small'
        }) }}
    </div>
    {% endif %}
</div>

{# Data #}
{% set refColClass = 'bg-gray-100 p-2 border md:border-r-0 border-b-0 md:border-b border-gray-400 text-gray-500' %}
{% set valueColClass = ' p-2 border border-gray-400 mb-2 md:mb-0' %}
<div class="grid grid-cols-1 md:grid-cols-3 mt-4 md:gap-y-2">
    <div class="{{ refColClass }}">REF</div>
    <div class="{{ valueColClass }} col-span-2">{{ job.customerReference }}</div>

    <div class="{{ refColClass }}">EMPLACEMENT</div>
    <div class="{{ valueColClass }} col-span-2">{{ job.location }}</div>

    <div class="{{ refColClass }}">DESCRIPTIF</div>
    <div class="{{ valueColClass }} col-span-2">{{ job.description }}</div>

    <div class="{{ refColClass }}">PRODUIT</div>
    <div class="{{ valueColClass }} col-span-2">
        {{ job.product.name }} <span class="italic text-gray-400">({{ job.product.price }}€/m2)</span>
    </div>

    <div class="{{ refColClass }}">FORMAT VISIBLE (mm)</div>
    <div class="{{ valueColClass }} col-span-2">{{ job.width }} x {{ job.height }}</div>

    <div class="{{ refColClass }}">FORMAT TOTAL (mm)</div>
    <div class="{{ valueColClass }} col-span-2">{{ job.width + job.leftBleed + job.rightBleed }} x {{ job.height + job.topBleed + job.bottomBleed }}</div>

    <div class="{{ refColClass }}">FOND PERDU (mm)</div>
    <div class="{{ valueColClass }} col-span-2">
        <span class="text-prunoise">G</span>{{ job.leftBleed }} -
        <span class="text-prunoise">D</span>{{ job.rightBleed }} -
        <span class="text-prunoise">H</span>{{ job.topBleed }} -
        <span class="text-prunoise">B</span>{{ job.bottomBleed }}
    </div>

    <div class="{{ refColClass }}">FINISSION</div>
    <div class="{{ valueColClass }} col-span-2">{{ job.finish|nl2br }}</div>

    <div class="{{ refColClass }}">VISUELS</div>
    <div class="{{ valueColClass }} col-span-2">{{ job.imageCount }}</div>

    <div class="{{ refColClass }}">EXEMPLAIRES</div>
    <div class="{{ valueColClass }} col-span-2">{{ job.imageQuantity }}</div>

    <div class="{{ refColClass }}">TOTAL</div>
    <div class="{{ valueColClass }} col-span-2">{{ job.imageQuantity * job.imageCount }}</div>

    <div class="{{ refColClass }}">PRIX UNITAIRE</div>
    <div class="{{ valueColClass }} col-span-2">
        {{ job.displayUnitPrice }}€
    </div>

    <div class="{{ refColClass }}">PRIX TOTAL</div>
    <div class="{{ valueColClass }} col-span-2">
        {{ job.displayTotalPrice }}€
    </div>
</div>

{% if job.customerComment %}
<div class="p-4 mt-8 border border-gray-400 text-blue-400 rounded flex items-center">
    <div class="ml-3 mr-5"><i class="fas fa-info text-3xl"></i></div>
    <div>
        <h3 class="text-xl mb-1">Commentaire</h3>
        <p class="text-gray-500">{{ job.customerComment|nl2br }}</p>
    </div>
</div>
{% endif %}
